{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/tatsuya/Desktop/user-management-tatuya/fe/src/App.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col } from 'reactstrap';\nimport { CSVLink } from \"react-csv\";\nimport AccountsTable from './components/Tables/AccountsTable';\nimport AddEditModal from './components/Modals/AddEditModal';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      items: []\n    };\n\n    this.addItemToState = item => {\n      window.location.reload();\n      this.setState(prevState => ({\n        items: [...prevState.items, item]\n      }));\n    };\n\n    this.updateState = item => {\n      const itemIndex = this.state.items.findIndex(data => data.id === item.id);\n      const newArray = [...this.state.items.slice(0, itemIndex), item, ...this.state.items.slice(itemIndex + 1)];\n      this.setState({\n        items: newArray\n      });\n    };\n\n    this.deleteItemFromState = id => {\n      const updatedItems = this.state.items.filter(item => item.id !== id);\n      this.setState({\n        items: updatedItems\n      });\n    };\n  }\n\n  getItems() {\n    fetch('http://localhost:3000/crud').then(response => response.json()).then(items => this.setState({\n      items\n    })).catch(err => console.log(err));\n  }\n\n  componentDidMount() {\n    this.getItems();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              margin: \"13px\"\n            },\n            children: \"User management app\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(AccountsTable, {\n            items: this.state.items,\n            updateState: this.updateState,\n            deleteItemFromState: this.deleteItemFromState\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(AddEditModal, {\n            buttonLabel: \"\\u8FFD\\u52A0\",\n            addItemToState: this.addItemToState\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), this.state.items.length > 0 && /*#__PURE__*/_jsxDEV(CSVLink, {\n            className: \"btn btn-primary\",\n            filename: \"accounts.csv\",\n            data: this.state.items,\n            children: \"CSV\\u30A8\\u30AF\\u30B9\\u30DD\\u30FC\\u30C8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/tatsuya/Desktop/user-management-tatuya/fe/src/App.js"],"names":["React","Component","Container","Row","Col","CSVLink","AccountsTable","AddEditModal","App","state","items","addItemToState","item","window","location","reload","setState","prevState","updateState","itemIndex","findIndex","data","id","newArray","slice","deleteItemFromState","updatedItems","filter","getItems","fetch","then","response","json","catch","err","console","log","componentDidMount","render","margin","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Container, Row, Col } from 'reactstrap';\nimport { CSVLink } from \"react-csv\";\nimport AccountsTable from './components/Tables/AccountsTable';\nimport AddEditModal from './components/Modals/AddEditModal';\n\nclass App extends Component {\n  state = {\n    items: []\n  }\n\n  getItems() {\n    fetch('http://localhost:3000/crud')\n      .then(response => response.json())\n      .then(items => this.setState({ items }))\n      .catch(err => console.log(err))\n  };\n\n  addItemToState = (item) => {\n    window.location.reload();\n    this.setState(prevState => ({\n      items: [...prevState.items, item]\n    }));\n  }\n\n  updateState = (item) => {\n    const itemIndex = this.state.items.findIndex(data => data.id === item.id);\n\n    const newArray = [\n      ...this.state.items.slice(0, itemIndex),\n      item,\n      ...this.state.items.slice(itemIndex + 1)\n    ];\n    this.setState({ items: newArray });\n  }\n\n  deleteItemFromState = (id) => {\n    const updatedItems = this.state.items.filter(item => item.id !== id);\n    this.setState({ items: updatedItems });\n  }\n\n  componentDidMount() {\n    this.getItems();\n  }\n\n  render() {\n    return (\n      <Container className=\"App\">\n        <Row>\n          <Col>\n            <h1 style={{ margin: \"13px\" }}>User management app</h1>\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <AccountsTable items={this.state.items} updateState={this.updateState} deleteItemFromState={this.deleteItemFromState} />\n          </Col>\n        </Row>\n        <Row>\n          <Col>\n            <AddEditModal buttonLabel=\"追加\" addItemToState={this.addItemToState} />\n            {this.state.items.length > 0 &&\n              <CSVLink\n                className=\"btn btn-primary\"\n                filename={\"accounts.csv\"}\n                data={this.state.items}>\n                CSVエクスポート\n             </CSVLink>\n            }\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}